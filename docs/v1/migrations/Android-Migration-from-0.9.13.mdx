---
title: Android - Migration from 0.9.11
---

# Android - Migration from 0.9.11

This guide is for users migrating from android SDK v0.9.11 to higher versions

---

## Breaking Changes (Android SDK)

### Exception Handling

`onFailure` method of `HMSRequestHandler`, `HMSClient.GetLocalStreamListener`, `HMSMediaRequestHandler`, `HMSStreamRequestHandler` and `HMSClient.GetLocalStreamListener` interfaces is changed. This returns an instance of HMSException which would contain errorCode and errorMessage

#### Change

<Tabs id="quality-level" items={['Java', 'Kotlin']} />

<Code id='quality-level-0' noCopy tab>

```java
// Before
hmsClient.subscribe(streamInfo, new HMSRequestHandler() {
	@Override
	public void onSuccess(MediaStream stream) {
		// Handle subscribe success
	}
	@Override
	public void onFailure(long error, String errorReason) {
		Log.v("HMSClient onSubscribeFailure", errorReason);
	}
});
```

```java
// After
hmsClient.subscribe(streamInfo, new HMSRequestHandler() {
	@Override
	public void onSuccess(MediaStream stream) {
		// Handle subscribe success
	}

	@Override
	public void onFailure(HMSException exception) {
    Log.e(TAG, "HMSClient onSubscribeFailure", exception)
	}
});
```

</Code>

<Code id='quality-level-1' noCopy tab>

```kt
// Before
hmsClient.subscribe(streamInfo, room, object : HMSRequestHandler {
  fun onSuccess(stream: MediaStream) {
    // Handle subscribe success
  }

  fun onFailure(error: Long, errorReason: String) {
    Log.d(TAG, "HMSClient onSubscribeFailure", errorReason)
  }
})
```

```kt
// After
hmsClient.subscribe(streamInfo, room, object : HMSRequestHandler {
  fun onSuccess(stream: MediaStream) {
    // Handle subscribe success
  }

  fun onFailure(exception: HMSException) {
    Log.e(TAG, "HMSClient onSubscribeFailure", exception)
  }
})
```

</Code>

## HMSEventListener

Method signature of onDisconnect method is changed. This now returns an instance of HMSException

### Change

```java:Before
// Before
public interface HMSEventListener {
  // All other events are same

  void onDisconnect(String errorMessage);
}
```

```java:After
// After
public interface HMSEventListener {
  // All other events are same

  void onDisconnect(HMSException hmsException);
}
```

## Imports

Base package name have changed from `com.brytecam.lib` to `live.hms.video`

> Note: There is no change in the placement of Classes and Interface. Everything else is the exact same. Just fix the imports after updating

### Change

```java:Before
// Before
import com.brytecam.lib.HMSClient;
import com.brytecam.lib.HMSEventListener;
import com.brytecam.lib.webrtc.HMSStream;
```

```java:After
// After
import live.hms.video.HMSClient;
import live.hms.video.HMSEventListener;
import live.hms.video.webrtc.HMSStream;
```

## Get User Local Stream

### Change - getUserMedia

```java:Before
// Before
public void getUserMedia(
    Context context,
    HMSRTCMediaStreamConstraints constraints,
    HMSClient.GetUserMediaListener getUserMediaListener
)
```

```java:After
// After
public void getLocalStream(
    Context context,
    HMSRTCMediaStreamConstraints constraints,
    HMSClient.GetLocalStreamListener getLocalStreamListener
)
```

### Change - getUserMediaListener

```java:Before
// Before
public interface GetUserMediaListener {
  public void onSuccess(HMSRTCMediaStream stream);
  public void onFailure(HMSException exception);
}
```

```java:After
// After
public interface GetLocalStreamListener {
  public void onSuccess(HMSRTCMediaStream stream);
  public void onFailure(HMSException exception);
}
```
