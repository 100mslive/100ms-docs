---
title: Audio Output Routing
nav: 3.21
---

Audio Routing can be helpful in the case when user wants to switch output to device other than the default focussed one by SDK,
similar to the phone calls.

## Fetch available audio device

Invoke this method to fetch the available audio device list:

```dart
 List<HMSAudioDevice> availableDevices = await hmsSDK.getAudioDevicesList();
```

Following `HMSAudioDevice` values you can get from `getAudioDevicesList()`:

### Android
* SPEAKER_PHONE   - route audio to device speaker
* EARPIECE  - route audio to device earpiece
* WIRED_HEADSET     - route audio to connected wired device
* BLUETOOTH - route audio to connected bluetooth device
* AUTOMATIC - automatic routing

### iOS
* SPEAKER_PHONE   - route audio to device speaker
* EARPIECE  - route audio to device earpiece

## Switch audio focus to another device

Invoke this method with appropriate `HMSAudioDevice` value, to switch the output to that device

`audioDevice` is the [HMSAudioDevice] type through which audio should be routed.

```dart
    hmsSDK.switchAudioOutput(audioDevice:audioDevice);
```

## Adding a listener

Listener is attached to get the updates if a new audio device gets connected to the device such as bluetooth,wired_headset etc.
This method needs to be overriden in the class wherever `HMSUpdateListener` is implemented

```dart
@override
void onAudioDeviceChanged(
{HMSAudioDevice? currentAudioDevice,
List<HMSAudioDevice>? availableAudioDevice})
{
    //currentAudioDevice : audio device to which audio is routed to
    //availableAudioDevice : other available audio devices
}
```

## Get current focussed device

This method will help in getting the device where the current audio output is routed to.

```dart
  HMSAudioDevice currentAudioDevice = await hmsSDK.getCurrentAudioDevice();
```

> Note: `onAudioDeviceChanged` listener and `getCurrentAudioDevice` method is only available on android platform.
