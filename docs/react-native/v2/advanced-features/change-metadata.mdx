---
title: Peer Metadata Update
nav: 3.993
---

Looking for persistent state that can be set on a peer and updated anytime, for everyone in the room? Peer metadata it is.


Metadata can be set initially in the `HMSConfig` object that's passed into the join method and updated post join by
following the API below. You can imagine metadata as a persistent object attached to the peer which has more details about
them.


We'll explain the API using an example of implementing raise hand. For this, we'll use the below interface for metadata -

```ts
interface CustomMetadata {
    isHandRaised: boolean;
}
```

## Getting and Setting Metadata

Note that `peer.metadata` is a string, it can be used to keep a stringified JSON. 
Metadata update post join can be achieved by calling `hmsInstance.changeMetadata(metadata)` 

The below example shows implementing a toggle raise hand function for the local peer.

```ts
async function toggleRaiseHand() {
    const metadata = JSON.parse(hmsInstance.localPeer?.metadata);
    const newMetadata = JSON.stringify({...parsedMetadata, isHandRaised: !metadata.isHandRaised});
    await hmsInstance.changeMetadata(newMetadata);
}
```


## Peer Metadata Update Notification

Once the metadata is updated, for all the peers `onPeerUpdate` event will be triggered where the update value will be of type `HMSPeerUpdate.METADATA_CHANGED`


```ts
const onPeerListener = ({
    peer,
    type,
  }: {
    peer: HMSPeer;
    type: HMSPeerUpdate;
  }) => {
    if (type === HMSPeerUpdate.METADATA_CHANGED) {
      const metadata = JSON.parse(peer.metadata);
      if (metadata.isHandRaised && !peer.isLocal) {
        toast(`${peer.name} raised their hand.`);
      }  
    }
  };
```


## Ideas

-   Implementing raise hand
-   Multiplayer games like chess, scribble, quizzes etc.
-   Store extra information such as profile picture for every peer which can be updated mid call

