---
title: Set Track Settings
nav: 3.95
---

You can customize local peers' Audio & Video track settings while creating instance of 100ms SDK.

These settings are a optional parameter and meant to be passed in the `build` function of `HMSSDK` as `trackSettings` parameter which is a `HMSTrackSettings` object.


## Set Audio Track settings

Audio Track settings are defined by `HMSAudioTrackSettings` class. We have following settings for the Audio Track:

- `initialState`

  Property to set the initial state of the Audio track (microphone) i.e. Mute/Unmute before joining the room. By default Audio track is Unmuted meaning microphone is ON.
  
  You can use `HMSTrackSettingsInitState` enum to set this value.

  ```js
  enum HMSTrackSettingsInitState {
    // If the track needs to be kept mute while joining
    MUTED,
    
    // If the track needs to be kept unmute while joining  
    UNMUTED
  }

  ...

  const audioSettings = new HMSAudioTrackSettings({
    initialState: HMSTrackSettingsInitState.MUTED,
  });
  ```
  
  More info about this can be found in [Join with Muted Audio](../features/join#join-with-muted-audio-video) docs.

  More info about Muting and Unmuting Audio Track, check out [Mute and Unmute](../features/mute) docs.

- `useHardwareEchoCancellation` [Android Only]

  Property to enable Hardware echo cancellation. By default, it's set to `true` if the device supports it. Please note that on some devices the hardware wrongly reports the HW echo canceler to be present whereas it does not work. In such cases, the application needs to set this to false, so that SW echo canceler is picked up. This setting uses the phone's Acoustic echo Cancellation instead of relying on the SDK's software-based implementation.

- `audioSource` [iOS Only]

  Property to configure audio nodes for audio sharing. More info about this can be found in [Audio Share](../features/audio-share) docs.


We can create `HMSAudioTrackSettings` with above mentioned properties as follows -

```js
const audioTrackSettings = new HMSAudioTrackSettings({
  initialState: HMSTrackSettingsInitState.UNMUTED,
  useHardwareEchoCancellation: true,
  audioSource: ['audio_file_player_node'],
});
```


## Set Video Track settings

Video Track settings are defined by `HMSVideoTrackSettings` class. We have following settings for the Video Track:

- `initialState`

  Property to set the initial state of the Video track (camera) i.e Mute/Unmute before joining the room. By default Video track is Unmuted meaning camera is ON.
  
  You can use `HMSTrackSettingsInitState` enum to set this value.

  ```js
  enum HMSTrackSettingsInitState {
    // If the track needs to be kept mute while joining
    MUTED,
    
    // If the track needs to be kept unmute while joining  
    UNMUTED
  }

  ...

  const videoSettings = new HMSVideoTrackSettings({
    initialState: HMSTrackSettingsInitState.MUTED,
  });
  ```

  More info about this can be found in [Join with Muted Video](../features/join#join-with-muted-audio-video) docs.
  
  More info about Muting and Unmuting Video Track, check out [Mute and Unmute](../features/mute) docs.

- `cameraFacing`

  Property specifies which camera to open while joining. It can be toggled later on. You can use `HMSCameraFacing` enum to set this value. The default value is `HMSCameraFacing.FRONT`.

- `forceSoftwareDecoder` [Android Only]

  This can be used when a lot of videos are rendered at a single time. It is known that the hardware decoder on certain phones doesn't tend to work well with large grids. This may cause an adverse effect like the phone heating up, use this flag only when required. The default value is set as `false`.

- `disableAutoResize` [Android Only]

  The SDK intelligently downscales the resolution when publisher's bandwidth is flaky or is CPU bound. This results in a low resolution for the viewers. But if the viewers are persistent, they want the highest resolution at all times, then this setting comes in handy. The default value is set as `false`.


We can create `HMSVideoTrackSettings` with above mentioned properties as follows -

```js
const videoTrackSettings = new HMSVideoTrackSettings({
  initialState: HMSTrackSettingsInitState.MUTED,
  cameraFacing: HMSCameraFacing.BACK,
  forceSoftwareDecoder: false,
  disableAutoResize: false,
});
```


## Using Track Settings in HMSSDK constructor

Here's a sample implementation of adding track settings while initializing 100ms SDK -

```js
import {
  HMSSDK,
  HMSAudioTrackSettings,
  HMSVideoTrackSettings,
  HMSTrackSettings,
  HMSTrackSettingsInitState,
  HMSCameraFacing,
} from '@100mslive/react-native-hms';

const getTrackSettings = () => {
  const audioTrackSettings = new HMSAudioTrackSettings({
    initialState: HMSTrackSettingsInitState.UNMUTED,
    useHardwareEchoCancellation: true,
    audioSource: ['audio_file_player_node'],
  });
  
  const videoTrackSettings = new HMSVideoTrackSettings({
    initialState: HMSTrackSettingsInitState.MUTED,
    cameraFacing: HMSCameraFacing.BACK,
    forceSoftwareDecoder: false,
    disableAutoResize: false,
  });
  
  return new HMSTrackSettings({
    video: videoTrackSettings,
    audio: audioTrackSettings,
  });
}

const trackSettings = getTrackSettings();

const build = await HMSSDK.build({ trackSettings });
```
