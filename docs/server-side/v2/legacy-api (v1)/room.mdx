---
title: Room
nav: 8.1
---

> **Note**: The Legacy API (V1) will remain fully functional. However, we recommend you use our [new API](/server-side/v2/Rooms/object) to leverage the new functionalities and features and stay up to date with future releases; you can continue to check the docs for the Legacy API (V1)s [here](/server-side/v2/deprecated/templates-and-roles).

## Create Room using API

You can create room using API. This provides a more scalable way of creating room.

<PostRequest
    title="Create Room API"
    desp="This endpoint is used to create Room. "
    url="https://prod-in2.100ms.live/api/v2/rooms"
/>

<Tabs items={['Request', 'Response']} id="req" />

<Tab id="req-0">

```bash
curl https://prod-in2.100ms.live/api/v2/rooms -H 'Authorization: Bearer  <management_token>' -X POST -H 'Content-Type: application/json' -d '{"name": "test-room", "description": "This is a test room", "recording_info": {"enabled": true, "upload_info": {"type": "s3", "location": "test-bucket", "prefix": "test-prefix", "options": {"region": "ap-south-1"}, "credentials": {"key": "aws-access-key", "secret": "aws-secret-key"}}}}'
```

</Tab>
<Tab id="req-1">

<Response res="200: OK" />

```json
{
    "id": "61101349d0f56e684b608c08",
    "name": "test-room",
    "description": "This is a test room",
    "active": true,
    "recording_info": {
        "enabled": true,
        "upload_info": {
            "type": "s3",
            "location": "test-bucket",
            "prefix": "test-prefix",
            "credentials": {
                "key": "aws-access-key",
                "secret": "aws-secret-key"
            },
            "options": {
                "region": "ap-south-1"
            }
        }
    },
    "user": "60b8e13a6eb86d8101b57353",
    "customer": "60b8e13a6eb86d8101b57354",
    "created_at": "2021-08-08T17:24:25.682362823Z",
    "updated_at": "0001-01-01T00:00:00Z"
}
```

</Tab>

### Headers

| Name                | Value                       | Required |
| :------------------ | :-------------------------- | :------- |
| Content-type <br/>  | application/json            | Yes      |
| Authorization <br/> | Bearer `<management token>` | Yes      |

### Body Paramters

| Name                 | Type     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Required |
| :------------------- | :------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------- |
| name <br/>           | `string` | A unique identifier you can assign to 100ms rooms. This is `case-insensitive`. Accepted characters are `a-z, A-Z, 0-9, and . - : _`. If not provided, this is generated automatically. <br/><br/> **Note**: <br/><br/> (1) If `create Room` is called with an existing room name, then the corresponding room ID is returned <br/><br/> (2) Providing room name will be helpful if you want to disable the room later (disable room API requires room name) | No       |
| description <br/>    | `string` | A string to describe your room's usage. E.g. "9PM English Class Batch 2"                                                                                                                                                                                                                                                                                                                                                                                    | No       |
| template <br/>       | `string` | [Template](../foundation/templates-and-roles) of the room. You can get template name from room details section on dashboard                                                                                                                                                                                                                                                                                                                                 | No       |
| recording_info <br/> | `object` | Object of type `recording_info`. This object contains information for enabling recording/setting storage location for recordings.                                                                                                                                                                                                                                                                                                                           | No       |
| region <br/>         | `string` | Region in which you want to create room. <br/><br/> `in` - India <br/><br/> `us` - United States <br/><br/> `eu` - European Union <br/><br/> `auto` Automatic region selection (default, and in case this parameter is not provided)                                                                                                                                                                                                                        | No       |

---

### recording_info arguments

> **Note**: This object enables recording and configuring storage during room creation. But we recommend configuring it at a template level through the [Dashboard](https://dashboard.100ms.live/dashboard), where the config validator can help with validating inputs proactively.

| Name        | Type      | Description                                                                                                                                                                                                                                                                                                              | Required |
| :---------- | :-------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------- |
| enabled     | `boolean` | Enable SFU recording. Disabled by default. <br/><br/> **Note:** This argument is only applicable to enable/disable [SFU recording](/server-side/v2/Destinations/recording). Refer to [RTMP Streaming & Browser Recording](/server-side/v2/Destinations/rtmp-streaming-and-browser-recording) guide for other options.    | No       |
| upload_info | `object`  | Object of type `upload_info`. This object contains information on recordings storage location. <br/><br/>If you want to store recording with 100ms, and not use your own storage (s3/gs/oss), don't add this to the object. <br/><br/>Check the [upload_info object](#upload-info-arguments) below for more information. | No       |

`recording_info` in the room acts as an atomic property. It depends on the recording settings defined in a template as below:

-   If the `recording_info` key is not provided in the API, the room will fill it with recording settings from the template. And the response body will include `recording_source_template: true`. This implies that whenever recording info is modified in the template, the recording settings for the room will also be updated.
-   If the `recording_info` key is provided in the API, the recording settings of the room won't be affected by the template at all.

To know more about recording please visit [Recording](/server-side/v2/Destinations/recording).

### upload_info arguments

| Name        | Type     | Description                                                                                                                             | Required |
| :---------- | :------- | :-------------------------------------------------------------------------------------------------------------------------------------- | :------- |
| type        | `string` | Upload destination type. Currently, `s3` (AWS), `gs` (Google Cloud Storage), `oss` (Alibaba Cloud) are supported.                       | Yes      |
| location    | `string` | Name of the storage bucket in which you want to store all recordings                                                                    | Yes      |
| prefix      | `string` | Upload prefix path                                                                                                                      | No       |
| options     | `object` | Additional configurations of type `Options` to be used for uploading. <br/><br/>Check the options arguments below for more information. | No       |
| credentials | `object` | Object of type `credentials`. This is used to share the credentials to access the storage bucket specified.                             | No       |

### Options

| Name   | Type     | Description                                                                                                              | Required |
| :----- | :------- | :----------------------------------------------------------------------------------------------------------------------- | :------- |
| region | `string` | Region of the AWS account hosting the s3 bucket for storing recordings. If not provided it is assumed to be `ap-south-1` | No       |

### Credentials

| Name   | Type     | Description                                                                          | Required |
| :----- | :------- | :----------------------------------------------------------------------------------- | :------- |
| key    | `string` | `access key ID` for the AWS account hosting the s3 bucket for storing recordings     | Yes      |
| secret | `string` | `secret access key` for the AWS account hosting the s3 bucket for storing recordings | Yes      |

The access keys should have read(GetObject) and write(PutObject) permissions for the s3 bucket.
For more details check - https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html

## Disable Room

This API can be used to disable a room from further use

<PostRequest
    title="Disable Room API"
    desp="This endpoint is used to disable a Room. "
    url="https://prod-in2.100ms.live/api/v2/rooms"
/>

<Tabs items={['Request', 'Response']} id="dis" />

<Tab id="dis-0">

```bash
curl https://prod-in2.100ms.live/api/v2/rooms -H 'Authorization: Bearer  <management_token>' -X POST -H 'Content-Type: application/json' -d '{"name": "test-room", "active": false}'
```

</Tab>

<Tab id="dis-1">

<Response res="200: OK" />

```json
{
    "id": "61101349d0f56e684b608c08",
    "name": "test-room",
    "description": "This is a test room",
    "active": false,
    "recording_info": {
        "enabled": true,
        "upload_info": {
            "type": "s3",
            "location": "test-bucket",
            "prefix": "test-prefix",
            "credentials": {
                "key": "aws-access-key",
                "secret": "aws-secret-key"
            },
            "options": {
                "region": "ap-south-1"
            }
        }
    },
    "user": "60b8e13a6eb86d8101b57353",
    "customer": "60b8e13a6eb86d8101b57354",
    "created_at": "2021-08-08T17:24:25.682362823Z",
    "updated_at": "0001-01-01T00:00:00Z"
}
```

</Tab>

### Headers

| Name                | Value                       | Required |
| :------------------ | :-------------------------- | :------- |
| Content-type <br/>  | application/json            | Yes      |
| Authorization <br/> | Bearer `<management token>` | Yes      |

### Body Paramters

| Name         | Type     | Description                                                      | Required |
| :----------- | :------- | :--------------------------------------------------------------- | :------- |
| name <br/>   | `string` | Room name as given during creation of the room                   | Yes      |
| active <br/> | `bool`   | Flag to indicate disabling of the room, should be set to `false` | Yes      |
