---
title: Roles API
nav: 2.4
---

<PostRequest
    title="Create/Modify Role API"
    desp="This endpoint is used to create/modify a role."
    url="https://prod-policy.100ms.live/api/v1/templates/<id>/roles/<roleName>"
/>

<Tabs items={['Request', 'Response']} id="req1" />

<Tab id="req1-0">

```bash
curl https://prod-policy.100ms.live/api/v1/templates/<id>/roles/<roleName> -H 'Authorization: Bearer <management_token>' -X POST -H 'Content-Type: application/json' -d '{ "name": "listener3", "publishParams": { "allowed": [ "video", "screen", "audio" ], "audio": { "bitRate": 40, "codec": "opus" }, "video": { "bitRate": 400, "codec": "vp8", "frameRate": 30, "width": 480, "height": 360 }, "screen": { "codec": "vp8", "frameRate": 10, "width": 1920, "height": 1080 }, "videoSimulcastLayers": {}, "screenSimulcastLayers": {} }, "subscribeParams": { "subscribeToRoles": [ "speaker", "moderator", "new-role-9880" ], "maxSubsBitRate": 3200, "subscribeDegradation": {} }, "permissions": {}, "priority": 1 }'
```

</Tab>
<Tab id="req1-1">

<Response res="200: OK" />

```json
{
    "name": "listener3",
    "publishParams": {
        "allowed": ["video", "screen", "audio"],
        "audio": {
            "bitRate": 40,
            "codec": "opus"
        },
        "video": {
            "bitRate": 400,
            "codec": "vp8",
            "frameRate": 30,
            "width": 480,
            "height": 360
        },
        "screen": {
            "codec": "vp8",
            "frameRate": 10,
            "width": 1920,
            "height": 1080
        },
        "videoSimulcastLayers": {},
        "screenSimulcastLayers": {}
    },
    "subscribeParams": {
        "subscribeToRoles": ["speaker", "moderator", "new-role-9880"],
        "maxSubsBitRate": 3200,
        "subscribeDegradation": {}
    },
    "permissions": {},
    "priority": 1
}
```

</Tab>

#### Body Parameters

| Name             | Type     | Description                                               | Required |
| :--------------- | :------- | :-------------------------------------------------------- | :------- |
| roleObject <br/> | `object` | Role object correspoding to the given role.               | Yes      |
| name <br/>       | `string` | Providing a `name` renames the role to the provided name. | No       |

<GetRequest
    title="Get Role API"
    desp="This endpoint is used to fetch a role. "
    url="https://prod-policy.100ms.live/api/v1/templates/<templateId>/roles/<roleName>"
/>

<Tabs items={['Request', 'Response']} id="req4" />

<Tab id="req4-0">

```bash
curl https://prod-policy.100ms.live/api/v1/templates/<templateId>/roles/<roleName> -H 'Authorization: Bearer <management_token>'
```

</Tab>
<Tab id="req4-1">

<Response res="200: OK" />

```json
{
    "name": "student",
    "publishParams": {
        "allowed": ["screen", "audio"],
        "audio": {
            "bitRate": 42,
            "codec": "opus"
        },
        "video": {
            "bitRate": 250,
            "codec": "vp8",
            "frameRate": 30,
            "width": 480,
            "height": 270
        },
        "screen": {
            "codec": "vp8",
            "frameRate": 10,
            "width": 1920,
            "height": 1086
        },
        "videoSimulcastLayers": {},
        "screenSimulcastLayers": {}
    },
    "subscribeParams": {
        "subscribeToRoles": ["teacher", "student"],
        "maxSubsBitRate": 2000,
        "subscribeDegradation": {}
    },
    "permissions": {},
    "priority": 1
}
```

</Tab>

<DeleteRequest
    title="Delete Role API"
    desp="This endpoint is used to delete a role. Subsequent requests for deleting role which does not exist gives 404."
    url="https://prod-policy.100ms.live/api/v1/templates/<id>/roles/<roleName>"
/>

<Tabs items={['Request', 'Response']} id="req7" />

<Tab id="req7-0">

```bash
curl https://prod-policy.100ms.live/api/v1/templates/<id>/roles/<roleName> -H 'Authorization: Bearer <management_token>' -X DELETE -H 'Content-Type: application/json'
```

</Tab>
<Tab id="req7-1">

<Response res="204: No Content" />

```json

```

</Tab>
