---
title: Retrieve a specific session
nav: 4.2
---

Retrieves the details of a specific session. 100ms provides options to retrieve details of a session with their ID.

<GetRequest title="https://api.100ms.live/v2/sessions/<session_id>" />

<Request id="req-0">

```bash
curl --location --request GET 'https://api.100ms.live/v2/sessions/<session_id>' \
--header 'Authorization: Bearer <management_token>'
```

</Request>

<ResponseBox id="res-0" status="200 OK">

```json
{
    "id": "63172c2d3e3d9fdb008322e1",
    "room_id": "627ce5b8f2e4e30487862adb",
    "customer_id": "627cdddff2e4e30487862ad1",
    "active": false,
    "peers": {
        "2d873b0a-c2c9-41dc-ac72-c6ea9b2f2cc3": {
            "id": "2d873b0a-c2c9-41dc-ac72-c6ea9b2f2cc3",
            "session_id": "63172c2d3e3d9fdb008322e1",
            "name": "Nixon K",
            "role": "backstage",
            "user": "ba71cf83-dfbf-4a41-b9e6-945ed12d237c",
            "joined_at": "2022-09-06T11:17:01.816Z",
            "left_at": "2022-09-06T11:17:03.643Z"
        }
    },
    "created_at": "2022-09-06T11:17:01.817Z",
    "updated_at": "2022-09-06T11:17:03.65Z"
}
```

</ResponseBox>

## Arguments

| Name                          | Type     | Description                                                                                                     | Required |
| :---------------------------- | :------- | :-------------------------------------------------------------------------------------------------------------- | :------- |
| session_id <br/> â€” path param | `string` | Unique identifier of the session you wish to fetch details for. <br/><br/>**Example**: 63172c2d3e3d9fdb008322e1 | Yes      |

## How to calculate session duration

You can calculate peer duration by subtracting joined_at timestamp from left_at for a given peer. Similarly, you can calculate session duration by adding all peers' duration.

## Example - Build attendance

### Using sessions API

Use this API to build the attendance system to gather information about peers for a session such as join/leave timestamps, duration, peer_id, user_id, etc.

Let's take a quick look at the overall flow of how we can build this:

-   Listen to session.close.success webhook event which indicates that the particular session has ended.
-   Once you receive the webhook, fetch `session_id` and trigger the **Retrieve a session API** to fetch details of all the peers participated in the session.
-   You can find the duration of each peer by finding the difference between `joined_at` and `left_at` fields for the respective peer.
-   Map the duration against `peer_id` or `user_id` (your internal user identifier for business logic).
-   Store the data in your preferred database for later review.

### Code example

```javascript
var express = require('express');
var app = express();
var bodyParser = require('body-parser');
app.use(bodyParser.urlencoded({ extended: false }));
app.use(bodyParser.json());
var axios = require('axios');
var baseUrl = 'https://api.100ms.live/v2';
var jwt = require('jsonwebtoken');
var uuid4 = require('uuid4');
var app_access_key = '<YOUR_APP_ACCESS_KEY>';
var app_secret = '<YOUR_APP_SECRET>';
var moment = require('moment');

var managementToken = '';

async function main() {
    await jwt.sign(
        {
            access_key: app_access_key,
            type: 'management',
            version: 2,
            iat: Math.floor(Date.now() / 1000),
            nbf: Math.floor(Date.now() / 1000)
        },
        app_secret,
        {
            algorithm: 'HS256',
            expiresIn: '24h',
            jwtid: uuid4()
        },
        function (err, token) {
            // console.log(token);
            managementToken = token;
        }
    );
}

main();

app.post('/webhooks', async function (req, res) {
    var eventType = req.body.type;
    var sessionId = req.body.data['session_id'];

    // Attendance
    if (eventType === 'session.close.success') {
        console.log('Session has ended');
        try {
            axios({
                method: 'get',
                url: baseUrl + '/sessions/' + sessionId,
                headers: { Authorization: `Bearer ${managementToken}` }
            }).then((response) => {
                // API response
                responseData = JSON.stringify(response.data);

                // Get an array of all the peers
                var parsedData = JSON.parse(responseData);
                const peers = Object.values(parsedData.peers);

                // Calculate the total duration of each unique peer
                const durationByUser = peers.reduce((acc, peer) => {
                    // Calculate the duration in minutes
                    const duration = moment
                        .duration(moment(peer.left_at).diff(moment(peer.joined_at)))
                        .asMinutes();

                    // Add the duration to the total for this user
                    acc[peer.user] = (acc[peer.user] || 0) + duration;

                    return acc;
                }, {});

                // Create a new array with the desired output format
                const result = Object.entries(durationByUser).map(([user, duration]) => ({
                    user,
                    duration
                }));
                console.log(result);
            });
        } catch (err) {
            console.log(err.data);
        }
    } else console.log('Wrong event');
});

app.set('port', process.env.PORT || 2400);
app.listen(app.get('port'), function () {
    console.log('Node app is running on port', app.get('port'));
});
```

#### Example output

```json
[
    { "user": "user1", "duration": "02.25" },
    { "user": "user2", "duration": "02.16" }
]
```

### Using data export - 100ms dashboard

&lt;TO ADD CONTENT HERE&gt;
