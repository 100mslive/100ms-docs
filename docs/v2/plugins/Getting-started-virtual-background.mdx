---
title: Getting Started - Virtual Background
nav: 12
---

## Introduction

This guide provides an overview of virtual background plugin usage with 100ms

## Supported Devices

Our current plugin version supports Chrome, Firefox, edge browser and M-Web

For an Enhanced Virtual Background Plugin performance enable simd in browser

-   `Chrome` -> Go to chrome://flags/ in browser, search for simd and enable WebAssembly SIMD support and Restart
-   `Firefox` -> Go to about:config in browser, search for simd, set javascript.options.wasm_simd = true and Restart

## Usage

### Installation

```bash
npm install @100mslive/hms-virtual-background
```

### Add and Remove Plugin

<Tabs id="plugin-code" items={['Store', 'Sdk', 'React']} />

<Tab id='plugin-code-0'>

```javascript
import {hmsActions, hmsStore} from "@100mslive/hms-video-store";
import HMSVirtualBackgroundPlugin from "@100mslive/hms-virtual-background"

/*
    Initialize Plugin
    @param: background : 'blur' | 'imgSource' | 'None'

            'blur'     -> Set background to blur
           'imgSource' -> image URL or base64, Set Background to image source
            'None'     -> Set to None/default background
*/

virtualBackgroundPlugin = new HMSVirtualBackgroundPlugin({background: 'blur'|'None'|imgSource})

/*
    Add Plugin
    Call to Add Plugin To videoTrack. It will attach the plugin to the Video Track
*/
hmsActions.addPlugin(virtualBackgroundPlugin);

/*
   Remove Plugin
   Call to remove Plugin from videoTrack, It will remove the plugin instance completely
*/
hmsActions.removePlugin(virtualBackgroundPlugin);

/*
 Selector to know the current plugins and if Virtual Background is part of it
*/
const videoTrack = hmsStore.getState(selectLocalVideoTrack)
const plugins =  videoTrack.getPlugins();
const isVBApplied = plugins.includes(virtualBackgroundPlugin.getName())
if(isVBApplied){
    console.log("Virtual Background Plugin is Attached")
}else{
    console.log("Virtual Background Plugin is Not Attached")
}

```
</Tab>

<Tab id='plugin-code-1'>

```javascript
import {HMSSdk} from "@100mslive/hms-video";
import HMSVirtualBackgroundPlugin from "@100mslive/hms-virtual-background"

/*
    Initialize Plugin
    @param: background : 'blur' | 'imgSource' | 'None'

            'blur'     -> Set background to blur
           'imgSource' -> image URL or base64, Set Background to image source
            'None'     -> Set to None/default background
*/
virtualBackgroundPlugin = new HMSVirtualBackgroundPlugin({background: 'blur'|'None'|imgSource})

/*
    Add Plugin
    Call to Add Plugin To videoTrack. It will attach the plugin to the Video Track
*/
HMSSdk.localPeer?.videoTrack?.addPlugin(virtualBackgroundPlugin);

/*
   Remove Plugin
   Call to remove Plugin from videoTrack, It will remove the plugin instance completely
*/
HMSSdk.localPeer?.videoTrack?.removePlugin(virtualBackgroundPlugin);

/*
 Selector to know the current plugins and if Virtual Background is part of it
*/
const videoTrack = HMSSdk.localPeer?.videoTrack?
const plugins =  videoTrack.getPlugins();
const isVBApplied = plugins.includes(virtualBackgroundPlugin.getName())
if(isVBApplied){
    console.log("Virtual Background Plugin is Attached")
}else{
    console.log("Virtual Background Plugin is Not Attached")
}
```
</Tab>



## Advance Methods

### Change Background

Call setBackground from the plugin to Update the Background Again Later if required
It accepts string as a parameter

```jsx
/**
@param: background, same as above
*/
virtualBackgroundPlugin.setBackground(background: string);
```



### Optional

Init can be used to show a loader Icon for background selector component during the Plugin Loading stage
if init hasn't be already called, the first background change will take a perceivable amount of time.

```jsx
/**
ex:- virtualBackgroundPlugin.init().then(() => console.log("background can be changed now"))
*/
virtualBackgroundPlugin.init();
```