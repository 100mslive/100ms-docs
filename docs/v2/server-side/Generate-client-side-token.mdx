---
title: Generate client-side token
nav: 7
---

## Overview

Client-side apps need to send a token to 100ms when instantiating 100ms' SDKs. This token generating service should be hosted on your server

<Note>

**Don't have the time to write your own token generation service?**

We have put together a [quickstart app server](/v2/server-side/100ms-quickstart-app-server) guide that will setup & deploy your token generation service in a few minutes

</Note>

## Obtaining Keys

You can get following keys from the [Developer](https://dashboard.100ms.live/developer) section of [100ms Dashboard](https://dashboard.100ms.live):

-   `app_access_key` - You can generate unique access_keys for multiple access points
-   `app_secret` - This unique secret is used to sign the token.

## Sample client-side token generation code <a id="sample-client-side-token-generation-code"></a>

<Tabs id="client-code-token" items={['Nodejs', 'Python', 'Java', 'Ruby', 'Php']} />

<Tab id='client-code-token-0'>

```javascript
var jwt = require('jsonwebtoken');
var uuid4 = require('uuid4');

var app_access_key = '5f74558a7ef1723ded60a129';
var app_secret =
    'g-fRy7V2844qw_17KZ3igkx8jUz3UW5v0MKD7pJCa4wMKJWniY7irfFx38ewAZup2QtAwu5IIVCv5Vkn1Y5QVjukd0JSByTzatvTaphHnctSIHDqXNp0b-lSoxpePZpFnnd-9bTe0QTWsCGEhjra9Yncc-MbJ1J7gl_nIkfGzpM=';

var payload = {
    access_key: app_access_key, // App Access Key
    room_id: '5f342ec41aa126542cdas3h4', // Room ID generated by createRoom API
    user_id: '5fc62c5872909272bf9995e1', // User ID assigned by you (different from 100ms' assigned id)
    role: 'host', //host, teacher, guest, student
    type: 'app',
    version: 2
};

jwt.sign(
    payload,
    app_secret,
    { algorithm: 'HS256', expiresIn: '24h', jwtid: uuid4() },
    function (err, token) {
        console.log(token);
    }
);
```

</Tab>

<Tab id='client-code-token-1'>

```python
#!/usr/bin/env python3
import jwt
import uuid
import datetime
import sys
app_secret = "g-fRy7V2844qw_17KZ3igkx8jUz3UW5v0MKD7pJCa4wMKJWniY7irfFx38ewAZup2QtAwu5IIVCv5Vkn1Y5QVjukd0JSByTzatvTaphHnctSIHDqXNp0b-lSoxpePZpFnnd-9bTe0QTWsCGEhjra9Yncc-MbJ1J7gl_nIkfGzpM="
app_access_key = "5f74558a7ef1723ded60a129"
room_id = "5f342ec41aa126542cdas3h4"
user_id = "5fc62c5872909272bf9995e1"
role = "host"
def generate(room_id, user_id, role, expires=0):
    expires = expires or 24 * 3600
    now = datetime.datetime.utcnow()
    exp  = now+ datetime.timedelta(seconds=expires)
    return jwt.encode(payload={
                "app_id": app_id,
                "access_key": app_access_key,
                "type":"app",
                "version":2,
                "room_id": room_id,
                "user_id": user_id,
                "role":role,
                "jti": str(uuid.uuid4()),
                "exp": exp,
                "iat": now,
                "nbf": now,
                }, key=app_secret).decode("utf-8")
if __name__ == "__main__":
    if len(sys.argv) == 3:
        room_id = sys.argv[0]
        user_id = sys.argv[1]
        role = sys.argv[2]
    print(generate(room_id=room_id, user_id=user_id, role=role))
```

</Tab>

<Tab id='client-code-token-2'  >

```java
import java.time.Instant;
import java.util.Date;
import java.util.HashMap;
import java.util.Map;
import java.util.UUID;
import io.jsonwebtoken.Jwts;
import io.jsonwebtoken.SignatureAlgorithm;

private void generateHmsClientToken() {
    Map<String, Object> payload = new HashMap<>();
    payload.put("access_key", <app_access_key>);
    payload.put("room_id", <room_id>);
    payload.put("user_id", <user_id>);
    payload.put("app_id", <app_id>);
    payload.put("role", <role>);
    payload.put("type", "app");
    payload.put("version", 2);
    String token = Jwts.builder().setClaims(payload).setId(UUID.randomUUID().toString())
        .setExpiration(new Date(System.currentTimeMillis() + 86400 * 1000))
        .setIssuedAt(Date.from(Instant.ofEpochMilli(System.currentTimeMillis() - 60000)))
        .signWith(SignatureAlgorithm.HS256, <app_secret>.getBytes()).compact();
  }
```

</Tab>

<Tab id='client-code-token-3'  >

```ruby
require 'jwt'

payload = {
  access_key: <app_access_key> ,
  room_id: <room_id>,
  user_id: <user_id>,
  app_id: <app_id>,
  role: <role>,
  type: "app",
  version: 2
}

secret = <app_secret>
token = JWT.encode(payload, secret, 'HS256')
```

</Tab>

<Tab id='client-code-token-4'>

```php
<?php

use Firebase\JWT\JWT;

$issuedAt   = new DateTimeImmutable();
$expire     = $issuedAt->modify('+24 hours')->getTimestamp();
$appId   = <app_id>;
$accessKey = <access_key>;
$version = 2;
$type = "app";
$role = <role>;
$roomId = <room_id>;

$payload = [
    'iat'  => $issuedAt->getTimestamp(),         // Issued at: time when the token was generated
    'nbf'  => $issuedAt->getTimestamp(),         // Not before
    'exp'  => $expire,                           // Expire
    'app_id' => $appId,
    'access_key' => $accessKey,
    'type' => $type,
    'version' => $version,
    'role' => $role,
    'room_id' => $roomId
];

$secret = <app_secret>;

$token = JWT::encode(
    $payload,
    $secret,
    'HS256'
);
```

</Tab>
