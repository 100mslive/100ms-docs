---
title: Getting Started - iOS
---

# Getting Started - iOS

This guide provides an overview of the key objects you'll use with 100ms iOS SDK to build a Live Audio/Video application.

### ‚òùÔ∏è Pre-requisites

-   Xcode 12 or higher
-   Support for iOS 10 or higher

### üöÇ Setup Guide

-   Host your token generation service [following this guide](https://app.gitbook.com/@100ms/s/100ms-v2/server-side/generate-client-side-token)
-   Get Access Keys: Sign up on [https://dashboard.100ms.live/register](https://dashboard.100ms.live/register) & visit the Developer tab to get your access credentials
-   Generate a server-side token, follow the steps described here - [https://app.gitbook.com/@100ms/s/100ms-v2/server-side/generate-server-side-token](https://app.gitbook.com/@100ms/s/100ms-v2/server-side/generate-server-side-token)
-   Create a room, follow the steps described here - [https://app.gitbook.com/@100ms/s/100ms-v2/server-side/create-room](https://app.gitbook.com/@100ms/s/100ms-v2/server-side/create-room)
-   Generate a client-side token, follow the steps described here - [https://app.gitbook.com/@100ms/s/100ms-v2/server-side/generate-client-side-token](https://app.gitbook.com/@100ms/s/100ms-v2/server-side/generate-client-side-token)
-   Get the HMSSDK via [Cocoapods](https://cocoapods.org/). Add the `pod 'HMSSDK'` to your Podfile as follows:

```ruby
platform :ios, '10.0'

target 'MyAwesomeApp' do
  pod 'HMSSDK'
end
```

### üßê Key Concepts

-   `Room` - A room represents real-time audio, video session, the basic building block of the 100mslive Video SDK
-   `Track` - A track represents either the audio or video that makes up a stream
-   `Peer` - A peer represents all participants connected to a room. Peers can be "local" or "remote"
-   `Broadcast` - A local peer can send any message/data to all remote peers in the room

### ‚ôªÔ∏è Setup event listeners

100ms SDK provides callbacks to the client app about any change or update happening in the room after a user has joined by implementing `HMSUpdateListener`. These updates can be used to render the video on screen or to display other info regarding the room.

<Tabs id="event-lis" items={['Swift', 'Objective-C']} />

<Code id='event-lis-0' tab>

```swift
protocol HMSUpdateListener {


    /// This will be called on a successful JOIN of the room by the user
    /// This is the point where applications can stop showing its loading state
    /// - Parameter room: the room which was joined
    func on(join room: HMSSDK.HMSRoom)


    /// This is called when there is a change in any property of the Room
    /// - Parameters:
    ///   - room: the room which was joined
    ///   - update: the triggered update type. Should be used to perform different UI Actions
    func on(room: HMSSDK.HMSRoom, update: HMSSDK.HMSRoomUpdate)


    /// This will be called whenever there is an update on an existing peer
    /// or a new peer got added/existing peer is removed.
    /// This callback can be used to keep a track of all the peers in the room
    /// - Parameters:
    ///   - peer: the peer who joined/left or was updated
    ///   - update: the triggered update type. Should be used to perform different UI Actions
    func on(peer: HMSSDK.HMSPeer, update: HMSSDK.HMSPeerUpdate)


    /// This is called when there are updates on an existing track
    /// or a new track got added/existing track is removed
    /// This callback can be used to render the video on screen whenever a track gets added
    /// - Parameters:
    ///   - track: the track which was added, removed or updated
    ///   - update: the triggered update type
    ///   - peer: the peer for which track was added, removed or updated
    func on(track: HMSTrack, update: HMSSDK.HMSTrackUpdate, for peer: HMSSDK.HMSPeer)


    /// This will be called when there is an error in the system
    /// and SDK has already retried to fix the error
    /// - Parameter error: the error that occured
    func on(error: HMSError)


    /// This is called when there is a new broadcast message from any other peer in the room
    /// This can be used to implement chat is the room
    /// - Parameter message: the received broadcast message
    func on(message: HMSSDK.HMSMessage)


    func on(updated speakers: [HMSSDK.HMSSpeaker])

    func onReconnecting()

    func onReconnected()
}
```

</Code>
<Code id='event-lis-1' tab>

```objectivec
@protocol HMSUpdateListener


/// This will be called on a successful JOIN of the room by the user
/// This is the point where applications can stop showing its loading state
/// \param room the room which was joined
///
- (void)onJoin:(HMSRoom * _Nonnull)room;


/// This is called when there is a change in any property of the Room
/// \param room the room which was joined
///
/// \param update the triggered update type. Should be used to perform different UI Actions
///
- (void)onRoom:(HMSRoom * _Nonnull)room update:(enum HMSRoomUpdate)update;


/// This will be called whenever there is an update on an existing peer
/// or a new peer got added/existing peer is removed.
/// This callback can be used to keep a track of all the peers in the room
/// \param peer the peer who joined/left or was updated
///
/// \param update the triggered update type. Should be used to perform different UI Actions
///
- (void)onPeer:(HMSPeer * _Nonnull)peer update:(enum HMSPeerUpdate)update;


/// This is called when there are updates on an existing track
/// or a new track got added/existing track is removed
/// This callback can be used to render the video on screen whenever a track gets added
/// \param track the track which was added, removed or updated
///
/// \param update the triggered update type
///
/// \param peer the peer for which track was added, removed or updated
///
- (void)onTrack:(HMSTrack * _Nonnull)track update:(enum HMSTrackUpdate)update peer:(HMSPeer * _Nonnull)peer;


/// This will be called when there is an error in the system
/// and SDK has already retried to fix the error
/// \param error the error that occured
///
- (void)onError:(HMSError * _Nonnull)error;


/// This is called when there is a new broadcast message from any other peer in the room
/// This can be used to implement chat is the room
/// \param message the received broadcast message
///
- (void)onMessage:(HMSMessage * _Nonnull)message;

- (void)onUpdatedSpeakers:(NSArray<HMSSpeaker *> * _Nonnull)speakers;

- (void)onReconnecting;

- (void)onReconnected;

@end
```

</Code>

### ü§ù Provide joining configuration

To join a room created by following the steps described in the above section, clients need to create a `HMSConfig` instance and use that instance to call `join` method of `HMSSDK`

<Tabs id="join-config" items={['Swift', 'Objective-C']} />

<Code id='join-config-0' tab>

```swift
  // Create a new HMSConfig object
  let config = HMSConfig(userName: user, // name of the user
                           userID: UUID().uuidString, // some unique identifier
                           roomID: room, // unique ID of the room which user wants to join
                        authToken: token) // authorisation token of the user
```

</Code>
<Code id='join-config-1' tab>

```objectivec
// Create a new HMSConfig object
HMSConfig *config = [[HMSConfig alloc] initWithUserName:@"userName"
                                                 userID:@"userID"
                                                 roomID:@"roomID"
                                              authToken:@"authToken"
                                    shouldSkipPIIEvents:YES
                                               metaData:@"someMetaData"
                                               endpoint:@"endpoint"];
```

</Code>

### üôè Join a room

Use the HMSConfig and HMSUpdateListener instances to call the join method on the instance of HMSSDK created above. Once Join succeeds, all the callbacks keep coming on every change in the room and the app can react accordingly

<Tabs id="join-room" items={['Swift', 'Objective-C']} />

<Code id='join-room-0' tab>

```swift
  // Basic Usage
  hms = HMSSDK.build() // ensure to keep an instance of HMSSDK alive in the class as an instance property
  let config = HMSConfig(userID: "userID", roomID: "roomID", authToken: "authToken")
  hms?.join(config: config, delegate: self)


  // Advanced Usage
  hms = HMSSDK.build { (hms) in
            hms.logLevel = .verbose
            hms.analyticsLevel = .verbose
            let videoSettings = HMSVideoTrackSettings(maxBitrate: 512,
                                                      maxFrameRate: 25,
                                                      cameraFacing: .front,
                                                      trackDescription: "Just a normal video track")
            let audioSettings = HMSAudioTrackSettings(maxBitrate: 32, trackDescription: "Just a normal audio track")
            hms.trackSettings = HMSTrackSettings(videoSettings: videoSettings, audioSettings: audioSettings)
            hms.logger = self
        }

  let config = HMSConfig(userName: "userName",
                           userID: "userID",
                           roomID: "roomID",
                        authToken: "authToken",
              shouldSkipPIIEvents: true,
                         metaData: "someMetaData",
                         endpoint: "wss://myWebSocketEndpoint/ws")

  hms?.join(config: config, delegate: self)
```

  </Code>

<Code id="join-room-1" tab>

```objectivec
// ensure to keep an instance of HMSSDK alive in the class as an instance property
hms = [HMSSDK buildWithBlock:^(HMSSDK * _Nonnull) {
    // configure settings if required
}];

HMSConfig *config = [[HMSConfig alloc] initWithUserName:@"userName"
                                                     userID:@"userID"
                                                     roomID:@"roomID"
                                                  authToken:@"authToken"
                                        shouldSkipPIIEvents:YES
                                                   metaData:@"someMetaData"
                                                   endpoint:@"endpoint"];

[hms joinWithConfig:config delegate:self];
```

</Code>

### üëã Leave Room

Call the leave method on the HMSSDK instance

<Tabs id="leave-room" items={['Swift', 'Objective-C']} />

<Code id='leave-room-0' tab>

```swift
hms?.leave() // to leave a room
```

</Code>

<Code id='leave-room-1' tab>

```objectivec
[hms leave];
```

</Code>

### üëå Get Peers/tracks data

`HMSSDK` has other methods which the client app can use to get more info about the `Room`, `Peer` and `Tracks`

<Tabs id="peer-room" items={['Swift', 'Objective-C']} />

<Code id='peer-room-0' tab>

```swift
/// Returns the local peer, which contains the local tracks
var localPeer: HMSLocalPeer? { get }


/// Returns all remote peers in the room
var remotePeers: [HMSRemotePeer]? { get }


/// Returns the room which was joined
var room: HMSRoom? { get }
```

</Code>

<Code id="peer-room-1" tab>

```objectivec
/// Returns the local peer, which contains the local tracks
@property (nonatomic, readonly, strong) HMSLocalPeer * _Nullable localPeer;


/// Returns all remote peers in the room
@property (nonatomic, readonly, copy) NSArray<HMSRemotePeer *> * _Nullable remotePeers;


/// Returns the room which was joined
@property (nonatomic, readonly, strong) HMSRoom * _Nullable room;
```

</Code>

### üôä Mute/Unmute Local Audio

Use the `HMSLocalAudioTrack` and `HMSLocalVideoTrack` to mute/unmute tracks

<Tabs id="mute-room" items={['Swift', 'Objective-C']} />{' '}

<Code id='mute-room-0' tab>

```swift
class HMSLocalAudioTrack : HMSAudioTrack {

  var settings: HMSAudioTrackSettings

  func setMute(_ mute: Bool)
}
```

</Code>

<Code id="mute-room-1" tab>

```objectivec
@interface HMSLocalAudioTrack : HMSAudioTrack

@property (nonatomic, copy) HMSAudioTrackSettings *settings;

- (void)setMute:(BOOL)mute;

@end
```

</Code>

### üôà Mute/Unmute Local Video

<Tabs id="video-room" items={['Swift', 'Objective-C']} />{' '}

<Code id='video-room-0' tab>

```swift
  class HMSLocalVideoTrack : HMSVideoTrack {

    var settings: HMSVideoTrackSettings

    func setMute(_ mute: Bool)

    func startCapturing()

    func stopCapturing()

    func switchCamera()
}
```

</Code>

<Code id='video-room-1' tab>

```objectivec
@interface HMSLocalVideoTrack : HMSVideoTrack

@property (nonatomic, copy) HMSVideoTrackSettings *settings;

- (void)setMute:(BOOL)mute;

- (void)startCapturing;
- (void)stopCapturing;
- (void)switchCamera;

@end
```

</Code>

### üõ§ HMSTracks Explained

`HMSTrack` is the super-class of all the tracks that are used inside `HMSSDK`. Its hierarchy looks like this -

```swift
  HMSTrack
      - AudioTrack
          - LocalAudioTrack
          - RemoteAudioTrack
      - VideoTrack
          - LocalVideoTrack
          - RemoteVideoTrack
```
